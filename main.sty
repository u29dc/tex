\NeedsTeXFormat{LaTeX2e}

\ProcessOptions\relax

\usepackage[utf8]{}                              % encoding

\usepackage[document]{ragged2e}                  % justify left
\usepackage[english]{babel}                      % language
\usepackage[style=iso]{datetime2}                % date formatting
\usepackage[subtle]{savetrees}                   % pack tigther
\usepackage[verbose=true,a4paper]{geometry}      % paper geometry
\usepackage{accsupp}                             % text selection
\usepackage{algorithm}                           % algorithms
\usepackage{algpseudocode}                       % algorithms
\usepackage{amsfonts}                            % math
\usepackage{amsmath}                             % math
\usepackage{amssymb}                             % math
\usepackage{booktabs}                            % tables
\usepackage{caption}                             % captions
\usepackage{changepage}                          % adjustments in a page
\usepackage{fancyhdr}                            % fancy header and footer
\usepackage{fancyvrb}                            % fancy verbatim
\usepackage{float}                               % float images
\usepackage{flushend}                            % balance multi colums
\usepackage{fontspec}                            % fonts
\usepackage{graphicx}                            % images
\usepackage{hyperref}                            % hyperlinks
\usepackage{lastpage}                            % page numbers
\usepackage{lipsum}                              % lorem ipsum generator
\usepackage{longtable}                           % tables
\usepackage{lscape}                              % landscape
\usepackage{marginfix}                           % margin notes
\usepackage{marginnote}                          % margin notes
\usepackage{mathtools}                           % math
\usepackage{microtype}                           % microtypography
\usepackage{mparhack}                            % margin notes
\usepackage{multicol}                            % multi columns
\usepackage{nicefrac}                            % compact symbols for 1/2, etc.
\usepackage{ntheorem}                            % math
\usepackage{pdfpages}                            % pdf pages
\usepackage{siunitx}                             % international system of units
\usepackage{tabularx}                            % tables
\usepackage{url}                                 % url typesetting
\usepackage{xcolor}                              % text colors

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define graphics path
\graphicspath{{./assets/images/}}

% define noselect function
\DeclareRobustCommand\noselect[1]{\BeginAccSupp{method=plain,ActualText={}}#1\EndAccSupp{}}

% disable hyphenation
\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000

% remove the numbering of the algorithm
\DeclareCaptionLabelFormat{algnonumber}{Algorithm}
\captionsetup[algorithm]{labelformat = algnonumber}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% fonts
\renewcommand{\rmdefault}{bch}
\renewcommand{\sfdefault}{phv}

% download required fonts:

% Inter:
% ./assets/fonts/inter/
% https://github.com/rsms/inter

% Space Mono:
% ./assets/fonts/space_mono/
% https://github.com/googlefonts/spacemono

\setmainfont[
  Path = ./assets/fonts/inter/, 
  Extension      = .otf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-SemiBold                     ,
  BoldItalicFont = *-SemiBoldItalic               ,
]{Inter}

\setsansfont[
  Path = ./assets/fonts/inter/, 
  Extension      = .otf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-SemiBold                     ,
  BoldItalicFont = *-SemiBoldItalic               ,
]{Inter}

\setromanfont[
  Path = ./assets/fonts/inter/, 
  Extension      = .otf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-SemiBold                     ,
  BoldItalicFont = *-SemiBoldItalic               ,
]{Inter}

\setmonofont[
  Path = ./assets/fonts/space_mono/, 
  Extension      = .ttf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-Bold                         ,
  BoldItalicFont = *-BoldItalic                   ,
]{SpaceMono}

% set default font to sans-serif
\renewcommand{\familydefault}{\sfdefault}

% font sizes
\renewcommand\tiny{\@setfontsize       \tiny       {5}{6}}
\renewcommand\scriptsize{\@setfontsize \scriptsize {7}{8}}
\renewcommand\small{\@setfontsize      \small      {8}{11}}
\renewcommand\normalsize{\@setfontsize \normalsize {9}{13}}
\renewcommand\large{\@setfontsize      \large      {13}{18}}
\renewcommand\Large{\@setfontsize      \Large      {15}{19}}
\renewcommand\LARGE{\@setfontsize      \LARGE      {20}{30}}
\renewcommand\huge{\@setfontsize       \huge       {30}{45}}
\renewcommand\Huge{\@setfontsize       \Huge       {50}{70}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% set page geometry
\AtBeginDocument{
  \newgeometry{
    textheight=25cm,
    textwidth=15cm,
    top=2cm,
    headheight=15pt,
    headsep=20pt,
    footskip=20pt
  }
}

\widowpenalty=10000
\clubpenalty=10000
\flushbottom
\sloppy
\fancyhf{}
\pagestyle{fancy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define colors
\definecolor{c000}{rgb}{0.00, 0.00, 0.00}
\definecolor{c005}{rgb}{0.05, 0.05, 0.05}
\definecolor{c010}{rgb}{0.10, 0.10, 0.10}
\definecolor{c020}{rgb}{0.20, 0.20, 0.20}
\definecolor{c030}{rgb}{0.30, 0.30, 0.30}
\definecolor{c040}{rgb}{0.40, 0.40, 0.40}
\definecolor{c050}{rgb}{0.50, 0.50, 0.50}
\definecolor{c060}{rgb}{0.60, 0.60, 0.60}
\definecolor{c070}{rgb}{0.70, 0.70, 0.70}
\definecolor{c080}{rgb}{0.80, 0.80, 0.80}
\definecolor{c090}{rgb}{0.90, 0.90, 0.90}
\definecolor{c095}{rgb}{0.95, 0.95, 0.95}
\definecolor{c100}{rgb}{1.00, 1.00, 1.00}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% header
\renewcommand{\headrulewidth}{0pt}
\fancyheadoffset{0pt}
\lhead{\small\textcolor{c070}{\noselect{\texttt{
\@title
}}}}
\chead{\small\textcolor{c070}{\noselect{\texttt{
\@author
}}}}
\rhead{\small\textcolor{c070}{\noselect{\texttt{
\today
}}}}

% footer
\lfoot{\small\textcolor{c070}{\noselect{\texttt{
}}}}
\cfoot{\small\textcolor{c070}{\noselect{\texttt{
}}}}
\rfoot{\small\textcolor{c010}{\noselect{\texttt{
\thepage/\pageref{LastPage}
}}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% float placement
\renewcommand{\topfraction      }{0.85}
\renewcommand{\bottomfraction   }{0.4}
\renewcommand{\textfraction     }{0.1}
\renewcommand{\floatpagefraction}{0.7}

% paragraph formatting
\setlength{\parindent}{\z@}
\setlength{\parskip  }{5.5\p@}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% use text color instead of boxes
\hypersetup{
  colorlinks= true,
  linkcolor={c010},
  citecolor={c050},
  urlcolor={c030}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% create title
\providecommand{\maketitle}{}
\renewcommand{\maketitle}{%
  \par
  \begingroup
    \renewcommand{\thefootnote}{\fnsymbol{footnote}}
    % for perfect author name centering
    \renewcommand{\@makefnmark}{\hbox to \z@{$^{\@thefnmark}$\hss}}
    % fix the footnote-mark overlapping footnote-text
    \long\def\@makefntext##1{%
      \parindent 1em\noindent
      \hbox to 1.8em{\hss $\m@th ^{\@thefnmark}$}##1
    }
    \thispagestyle{empty}
    \@maketitle
    \@thanks
  \endgroup
  \let\maketitle\relax
  \let\thanks\relax
}

\providecommand{\@maketitle}{}
\renewcommand{\@maketitle}{%
  \vspace*{\fill}
  \noselect{\vbox{%
    \hsize\textwidth
    \linewidth\hsize
    \centering{\Huge\textbf{\@title}\par}
    \textsc{}\\
    \def\And{
      \end{tabular}\hfil\linebreak[0]\hfil%
      \begin{tabular}[t]{c}\bf\rule{\z@}{24\p@}\ignorespaces%
    }
    \def\AND{
      \end{tabular}\hfil\linebreak[4]\hfil%
      \begin{tabular}[t]{c}\bf\rule{\z@}{24\p@}\ignorespaces%
    }
    \begin{tabular}[t]{c}\bf\rule{\z@}{24\p@}\@author\end{tabular}
    \center{\textcolor{c070}{\noselect{\texttt{\today}}}}
  }}
  \vspace*{\fill}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% create abstract
\renewenvironment{abstract}
{
  \vspace*{\fill}\centerline
  {\LARGE\textbf{Executive Summary}}
  \justify\begin{adjustwidth}{1cm}{1cm}
  \begin{quote}
}
{
  \end{quote}
  \end{adjustwidth}
  \vspace*{\fill}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
