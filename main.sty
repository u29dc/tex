\NeedsTeXFormat{LaTeX2e}

\ProcessOptions\relax

\usepackage[utf8]{}                              % encoding

\usepackage[english]{babel}                      % default language
\usepackage[verbose=true,a4paper]{geometry}      %
\usepackage{accsupp}                             % disable text selection
\usepackage{algorithm}                           % algorithms
\usepackage{algpseudocode}                       % algorithms
\usepackage{amsfonts}                            % blackboard math symbols
\usepackage{booktabs}                            % professional-quality tables
\usepackage{caption}                             % captions
\usepackage{fancyhdr}                            %
\usepackage{float}                               % float images
\usepackage{fontspec}                            % fonts
\usepackage{graphicx}                            % images
\usepackage{hyperref}                            % hyperlinks
\usepackage{lastpage}                            % page numbers
\usepackage{lipsum}                              % lorem ipsum generator
\usepackage{lscape}                              % landscape mode for visuals
\usepackage{microtype}                           % microtypography
\usepackage{multicol}                            % multi columns
\usepackage{nicefrac}                            % compact symbols for 1/2, etc.
\usepackage{url}                                 % simple URL typesetting
\usepackage{xcolor}                              % text colors

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define graphics path
\graphicspath{{./assets/images/}{../../assets/images/}}

% define noselect function
\DeclareRobustCommand\noselect[1]{\BeginAccSupp{method=plain,ActualText={}}#1\EndAccSupp{}}

% remove the numbering of the algorithm
\DeclareCaptionLabelFormat{algnonumber}{Algorithm}
\captionsetup[algorithm]{labelformat = algnonumber}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% fonts
\renewcommand{\rmdefault}{bch}
\renewcommand{\sfdefault}{phv}

\setmainfont[
  Path = ./assets/fonts/inter/, 
  Extension      = .otf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-SemiBold                     ,
  BoldItalicFont = *-SemiBoldItalic               ,
]{Inter}

\setsansfont[
  Path = ./assets/fonts/inter/, 
  Extension      = .otf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-SemiBold                     ,
  BoldItalicFont = *-SemiBoldItalic               ,
]{Inter}

\setromanfont[
  Path = ./assets/fonts/inter/, 
  Extension      = .otf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-SemiBold                     ,
  BoldItalicFont = *-SemiBoldItalic               ,
]{Inter}

\setmonofont[
  Path = ./assets/fonts/space_mono/, 
  Extension      = .ttf                           ,
  UprightFont    = *-Regular                      ,
  ItalicFont     = *-Italic                       ,
  BoldFont       = *-Bold                         ,
  BoldItalicFont = *-BoldItalic                   ,
]{SpaceMono}

\renewcommand{\familydefault}{\sfdefault}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% set page geometry
\AtBeginDocument{
  \newgeometry{
    textheight=10in,
    textwidth=6in,
    top=1in,
    headheight=15pt,
    headsep=20pt,
    footskip=20pt
  }
}

\widowpenalty=10000
\clubpenalty=10000
\flushbottom
\sloppy
\fancyhf{}
\pagestyle{fancy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define colors
\definecolor{c000}{rgb}{0.00, 0.00, 0.00}
\definecolor{c005}{rgb}{0.05, 0.05, 0.05}
\definecolor{c010}{rgb}{0.10, 0.10, 0.10}
\definecolor{c020}{rgb}{0.20, 0.20, 0.20}
\definecolor{c030}{rgb}{0.30, 0.30, 0.30}
\definecolor{c040}{rgb}{0.40, 0.40, 0.40}
\definecolor{c050}{rgb}{0.50, 0.50, 0.50}
\definecolor{c060}{rgb}{0.60, 0.60, 0.60}
\definecolor{c070}{rgb}{0.70, 0.70, 0.70}
\definecolor{c080}{rgb}{0.80, 0.80, 0.80}
\definecolor{c090}{rgb}{0.90, 0.90, 0.90}
\definecolor{c095}{rgb}{0.95, 0.95, 0.95}
\definecolor{c100}{rgb}{1.00, 1.00, 1.00}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% header
\renewcommand{\headrulewidth}{0pt}
\fancyheadoffset{0pt}
\lhead{\textcolor{c070}{\noselect{
  \@title
}}}
\chead{\textcolor{c070}{\noselect{
  \@author
}}}
\rhead{\textcolor{c070}{\noselect{
  Page \thepage \hspace{1pt} of \pageref{LastPage}
}}}

% footer
\lfoot{\textcolor{c070}{\noselect{
}}}
\cfoot{\textcolor{c070}{\noselect{
}}}
\rfoot{\textcolor{c070}{\noselect{
  \today
}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% handling keywords
\def\keywordname{{\bfseries \emph Keywords}}%
\def\keywords#1{\par\addvspace\medskipamount{\rightskip=0pt plus1cm
\def\and{\ifhmode\unskip\nobreak\fi\ $\cdot$
}\noindent\keywordname\enspace\ignorespaces#1\par}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% font sizes with reduced leading
\renewcommand{\normalsize}{%
  \@setfontsize\normalsize\@xpt\@xipt
  \abovedisplayskip      7\p@ \@plus 2\p@ \@minus 5\p@
  \abovedisplayshortskip \z@ \@plus 3\p@
  \belowdisplayskip      \abovedisplayskip
  \belowdisplayshortskip 4\p@ \@plus 3\p@ \@minus 3\p@
}
\normalsize
\renewcommand{\small}{%
  \@setfontsize\small\@ixpt\@xpt
  \abovedisplayskip      6\p@ \@plus 1.5\p@ \@minus 4\p@
  \abovedisplayshortskip \z@  \@plus 2\p@
  \belowdisplayskip      \abovedisplayskip
  \belowdisplayshortskip 3\p@ \@plus 2\p@   \@minus 2\p@
}
\renewcommand{\footnotesize}{\@setfontsize\footnotesize\@ixpt\@xpt}
\renewcommand{\scriptsize}{\@setfontsize\scriptsize\@viipt\@viiipt}
\renewcommand{\tiny}{\@setfontsize\tiny\@vipt\@viipt}
\renewcommand{\large}{\@setfontsize\large\@xiipt{13}}
\renewcommand{\Large}{\@setfontsize\Large\@xivpt{15}}
\renewcommand{\LARGE}{\@setfontsize\LARGE\@xviipt{20}}
\renewcommand{\huge}{\@setfontsize\huge\@xxpt{30}}
\renewcommand{\Huge}{\@setfontsize\Huge\@xxvpt{75}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% sections with less space
\providecommand{\section}{}
\renewcommand{\section}{%
  \@startsection{section}{1}{\z@}%
                {-2.0ex \@plus -0.5ex \@minus -0.2ex}%
                { 1.5ex \@plus  0.3ex \@minus  0.2ex}%
                {\large\bf\raggedright}%
}
\providecommand{\subsection}{}
\renewcommand{\subsection}{%
  \@startsection{subsection}{2}{\z@}%
                {-1.8ex \@plus -0.5ex \@minus -0.2ex}%
                { 0.8ex \@plus  0.2ex}%
                {\normalsize\bf\raggedright}%
}
\providecommand{\subsubsection}{}
\renewcommand{\subsubsection}{%
  \@startsection{subsubsection}{3}{\z@}%
                {-1.5ex \@plus -0.5ex \@minus -0.2ex}%
                { 0.5ex \@plus  0.2ex}%
                {\normalsize\bf\raggedright}%
}
\providecommand{\paragraph}{}
\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}{\z@}%
                {1.5ex \@plus 0.5ex \@minus 0.2ex}%
                {-1em}%
                {\normalsize\bf}%
}
\providecommand{\subparagraph}{}
\renewcommand{\subparagraph}{%
  \@startsection{subparagraph}{5}{\z@}%
                {1.5ex \@plus 0.5ex \@minus 0.2ex}%
                {-1em}%
                {\normalsize\bf}%
}
\providecommand{\subsubsubsection}{}
\renewcommand{\subsubsubsection}{%
  \vskip5pt{\noindent\normalsize\rm\raggedright}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% float placement
\renewcommand{\topfraction      }{0.85}
\renewcommand{\bottomfraction   }{0.4}
\renewcommand{\textfraction     }{0.1}
\renewcommand{\floatpagefraction}{0.7}

\newlength{\@abovecaptionskip}\setlength{\@abovecaptionskip}{7\p@}
\newlength{\@belowcaptionskip}\setlength{\@belowcaptionskip}{\z@}

\setlength{\abovecaptionskip}{\@abovecaptionskip}
\setlength{\belowcaptionskip}{\@belowcaptionskip}

% swap above/belowcaptionskip lengths for tables
\renewenvironment{table}
  {\setlength{\abovecaptionskip}{\@belowcaptionskip}%
   \setlength{\belowcaptionskip}{\@abovecaptionskip}%
   \@float{table}}
  {\end@float}

% footnote formatting
\setlength{\footnotesep }{6.65\p@}
\setlength{\skip\footins}{9\p@ \@plus 4\p@ \@minus 2\p@}
\renewcommand{\footnoterule}{\kern-3\p@ \hrule width 12pc \kern 2.6\p@}
\setcounter{footnote}{0}

% paragraph formatting
\setlength{\parindent}{\z@}
\setlength{\parskip  }{5.5\p@}

% list formatting
\setlength{\topsep       }{4\p@ \@plus 1\p@   \@minus 2\p@}
\setlength{\partopsep    }{1\p@ \@plus 0.5\p@ \@minus 0.5\p@}
\setlength{\itemsep      }{2\p@ \@plus 1\p@   \@minus 0.5\p@}
\setlength{\parsep       }{2\p@ \@plus 1\p@   \@minus 0.5\p@}
\setlength{\leftmargin   }{3pc}
\setlength{\leftmargini  }{\leftmargin}
\setlength{\leftmarginii }{2em}
\setlength{\leftmarginiii}{1.5em}
\setlength{\leftmarginiv }{1.0em}
\setlength{\leftmarginv  }{0.5em}
\def\@listi  {\leftmargin\leftmargini}
\def\@listii {\leftmargin\leftmarginii
              \labelwidth\leftmarginii
              \advance\labelwidth-\labelsep
              \topsep  2\p@ \@plus 1\p@    \@minus 0.5\p@
              \parsep  1\p@ \@plus 0.5\p@ \@minus 0.5\p@
              \itemsep \parsep}
\def\@listiii{\leftmargin\leftmarginiii
              \labelwidth\leftmarginiii
              \advance\labelwidth-\labelsep
              \topsep    1\p@ \@plus 0.5\p@ \@minus 0.5\p@
              \parsep    \z@
              \partopsep 0.5\p@ \@plus 0\p@ \@minus 0.5\p@
              \itemsep \topsep}
\def\@listiv {\leftmargin\leftmarginiv
              \labelwidth\leftmarginiv
              \advance\labelwidth-\labelsep}
\def\@listv  {\leftmargin\leftmarginv
              \labelwidth\leftmarginv
              \advance\labelwidth-\labelsep}
\def\@listvi {\leftmargin\leftmarginvi
              \labelwidth\leftmarginvi
              \advance\labelwidth-\labelsep}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% create title
\providecommand{\maketitle}{}
\renewcommand{\maketitle}{%
  \par
  \begingroup
    \renewcommand{\thefootnote}{\fnsymbol{footnote}}
    % for perfect author name centering
    \renewcommand{\@makefnmark}{\hbox to \z@{$^{\@thefnmark}$\hss}}
    % the footnote-mark was overlapping the footnote-text,
    % added the following to fix this problem
    \long\def\@makefntext##1{%
      \parindent 1em\noindent
      \hbox to 1.8em{\hss $\m@th ^{\@thefnmark}$}##1
    }
    \thispagestyle{empty}
    \@maketitle
    \@thanks
    %\@notice
  \endgroup
  \let\maketitle\relax
  \let\thanks\relax
}

\providecommand{\@maketitle}{}
\renewcommand{\@maketitle}{%
  \noselect{\vbox{%
    \hsize\textwidth
    \linewidth\hsize
    \centering{\Huge\textbf{\@title}\par}
    \textsc{}\\
    \def\And{
      \end{tabular}\hfil\linebreak[0]\hfil%
      \begin{tabular}[t]{c}\bf\rule{\z@}{24\p@}\ignorespaces%
    }
    \def\AND{
      \end{tabular}\hfil\linebreak[4]\hfil%
      \begin{tabular}[t]{c}\bf\rule{\z@}{24\p@}\ignorespaces%
    }
    \begin{tabular}[t]{c}\bf\rule{\z@}{24\p@}\@author\end{tabular}\center{\today}
  }}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% add conference notice to bottom of first page
\newcommand{\ftype@noticebox}{8}
\newcommand{\@notice}{%
  % give a bit of extra room back to authors on first page
  \enlargethispage{2\baselineskip}%
  \@float{noticebox}[b]%
    \footnotesize\@noticestring%
  \end@float%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% abstract styling
\renewenvironment{abstract}
{
  \centerline
  {\LARGE\bfseries\textbf\scshape{EXECUTIVE SUMMARY}}
  \begin{quote}
}
{
  \end{quote}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
